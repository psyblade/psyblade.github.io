<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">  
<title>Gravity III Graphics</title>
<meta name="description" content="Learn Basic Graphics">
<meta name="keywords" content="learn computer programming graphics">
<meta http-equiv='cache-control' content='no-cache'>
<meta http-equiv='expires' content='0'>
<meta http-equiv='pragma' content='no-cache'>
<link rel="icon" type="image/x-icon" href="./imgs/favicon.ico">
<link href="./css/index.css" rel="stylesheet">
<script src="./lib/JQuery/jquery-3.6.0.min.js"></script>
<script src="./js/index.js"></script>
<style>
    /* Initially hide the additional iframe */
    #iframemenu {
        display: none;
        width: 100%;
        height: 550px;
        border: none;
    }
</style>
</head>
<body>
<div id="banner">
	<div id="title" onclick="toggleIframe()">
		<div id="logo">
            <img src="./imgs/logo.png"> <!-- Add onclick event here -->
        </div>
		<h1>gravity <span>|||</span> graphics</h1>
	</div>
</div>

<!-- New hidden iframe that will push down the section -->
<iframe id="iframemenu" src="./indexette.html"></iframe>

<section id="section1">
	<div class="container">
		<div id="FrameCanvas">
			<iframe style="width:640px;height:480px; border: none;" name="myiframecanvas" id="iframecanvas" src="canvas.html" >IFrame is not supported
			</iframe>
		</div>
		<div id="FrameLessons">
			<iframe style="width:100%; height:480px; border: none;" name="myiframelessons" id="iframelessons" src="" >IFrame is not supported
			</iframe>
		</div>
	</div>
</section>

<section id="section2">
	<div class="container">
		<div id="buttons">
			<button id="buttonHelper" class="button" onclick="ToggleHelper()">Show Helper</button>
		</div>
	</div>
</section>

<section id="section4">
	<div id="codesections" class="container">
		<div id="YourCodeContainer">
			<div id="YourCodeTitleBar">
				<div id="YourCodeTitle">YOUR CODE</div>
				<button id="buttonYourCode" class="buttonRunCode" onclick="RunYourCodeInTextArea('#TextAreaYourCode', LessonName)">RUN YOUR CODE</button>
			</div>
			<textarea id="TextAreaYourCode" name="" placeholder="Try typing your code here!"></textarea>
		</div>
		<div id="ExampleCodeContainer">
			<div id="ExampleCodeTitleBar">
				<div id="ExampleCodeTitle">EXAMPLE CODE</div>
				<button id="buttonExampleCode" class="buttonRunCode" onclick="buttonExampleCodeClicked('#TextAreaExampleCode')">RUN EXAMPLE CODE</button>
			</div>
			<textarea id="TextAreaExampleCode" name=""></textarea>
		</div>
	</div>
</section>

<section id="footer">
	<div class="container">
	</div>
	<script>
		// Function to get parameter from URL
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Function to update the link
        function updateLink() {
            var idParam = getUrlParameter('p');
			var menuParam = getUrlParameter('menu');
            var link = document.getElementById('iframelessons');
			var menu = document.getElementById('iframemenu');
            
            if (idParam) {
                link.src = "./lessons/" + idParam + ".html";
            } else {
                link.textContent = 'No ID parameter found in URL';
            }
			
			if (menuParam) {
				menu.src = "./indexette.html?menu=" + menuParam;
				$('#iframemenu').show();
			}
        }

        // Toggle visibility of the additional iframe with slide-down animation
        function toggleIframe() {
            var iframe = $('#iframemenu');
            if (iframe.is(':visible')) {
                iframe.slideUp();  // Slide up if visible
            } else {
                iframe.attr('src', './indexette.html');  // Set src before sliding down
                iframe.slideDown();  // Slide down if hidden
            }
        }

        // Call the function when the page loads
        window.onload = updateLink;
	</script>
</section>
</body>
</html>

