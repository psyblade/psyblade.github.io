<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
<meta http-equiv='cache-control' content='no-cache'>
<meta http-equiv='expires' content='0'>
<meta http-equiv='pragma' content='no-cache'>
<link href="../css/lessons.css" rel="stylesheet">
<script src="../lib/JQuery/jquery-3.6.0.min.js"></script>
<script src="../js/lessons.js"></script>
</head>
<body>
<div id="lesson" class="lesson">
	<h1>Exercise: Teleporting Borders</h1>
	<p>When the pixel goes beyond the border, make it come out from the other side.</p>
<pre>

</pre>
	<h3></h3>
	<div id="buttons">
		<button class="buttonPreviousLesson" onclick="NavigateTo('Lesson67x');">Exercise</button>
		<button class="buttonNextLesson" onclick="NavigateTo('Lesson68');">Lesson68</button>
	</div>
</div>

<textarea id="LessonRunCode">
gr()

// Initial position and speed of the pixel
let x = 10; // Initial x position
let y = 10; // Initial y position
let speed = 0.5;

// Object to track which keys are pressed
const keys = {
  w: false,
  a: false,
  s: false,
  d: false
};

// Event listeners for key down and key up
document.addEventListener('keydown', (event) => {
  switch (event.key) {
    case 'w':
      keys.w = true;
      break;
    case 'a':
      keys.a = true;
      break;
    case 's':
      keys.s = true;
      break;
    case 'd':
      keys.d = true;
      break;
  }
});

document.addEventListener('keyup', (event) => {
  switch (event.key) {
    case 'w':
      keys.w = false;
      break;
    case 'a':
      keys.a = false;
      break;
    case 's':
      keys.s = false;
      break;
    case 'd':
      keys.d = false;
      break;
  }
});

function movePlayer() {
  if (keys.w) {
	y -= speed; // Move up
  }
  if (keys.a) {
	x -= speed; // Move left
  }
  if (keys.s) {
	y += speed; // Move down
  }
  if (keys.d) {
	x += speed; // Move right
  }
  if (x < 0) x = 60;
  if (x > 60) x = 0;
  if (y < 0) y = 36;
  if (y > 36) y = 0;
}

function drawPlayer() {
	gr();
	plot(x, y, 'blue'); // Plot the pixel with the updated position
}

// Game loop to update the position based on key presses
function gameLoop() {
	movePlayer();
	drawPlayer();
	requestAnimationFrame(gameLoop); // Continue the loop
}

// Start the animation
requestAnimationFrame(gameLoop);
</textarea>
<textarea id="LessonExampleCode">
gr()

// Initial position and speed of the pixel
let x = 10; // Initial x position
let y = 10; // Initial y position
let speed = 0.5;

// Object to track which keys are pressed
const keys = {
  w: false,
  a: false,
  s: false,
  d: false
};

// Event listeners for key down and key up
document.addEventListener('keydown', (event) => {
  switch (event.key) {
    case 'w':
      keys.w = true;
      break;
    case 'a':
      keys.a = true;
      break;
    case 's':
      keys.s = true;
      break;
    case 'd':
      keys.d = true;
      break;
  }
});

document.addEventListener('keyup', (event) => {
  switch (event.key) {
    case 'w':
      keys.w = false;
      break;
    case 'a':
      keys.a = false;
      break;
    case 's':
      keys.s = false;
      break;
    case 'd':
      keys.d = false;
      break;
  }
});

function movePlayer() {
  if (keys.w) {
	y -= speed; // Move up
  }
  if (keys.a) {
	x -= speed; // Move left
  }
  if (keys.s) {
	y += speed; // Move down
  }
  if (keys.d) {
	x += speed; // Move right
  }
}

function drawPlayer() {
	gr();
	plot(x, y, 'blue'); // Plot the pixel with the updated position
}

// Game loop to update the position based on key presses
function gameLoop() {
	movePlayer();
	drawPlayer();
	requestAnimationFrame(gameLoop); // Continue the loop
}

// Start the animation
requestAnimationFrame(gameLoop);
</textarea>
<script>
parent.ShowExample();
parent.LoadYourCode("TextAreaYourCode", "Lesson67x2");
parent.HideHelper();
parent.HideHelperButton();
parent.HideSolution();
</script>
</body>
</html>